{"payload":{"allShortcutsEnabled":false,"fileTree":{".github/workflows":{"items":[{"name":"build.yaml","path":".github/workflows/build.yaml","contentType":"file"}],"totalCount":1},".github":{"items":[{"name":"workflows","path":".github/workflows","contentType":"directory"}],"totalCount":1},"":{"items":[{"name":".github","path":".github","contentType":"directory"},{"name":"iso","path":"iso","contentType":"directory"},{"name":"tools","path":"tools","contentType":"directory"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":".pre-commit-config.yaml","path":".pre-commit-config.yaml","contentType":"file"},{"name":"LICENSE","path":"LICENSE","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"build.sh","path":"build.sh","contentType":"file"}],"totalCount":8}},"fileTreeProcessingTime":13.857051,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":723832133,"defaultBranch":"main","name":"parch-iso-plasma","ownerLogin":"behdanisohrab","currentUserCanPush":false,"isFork":true,"isEmpty":false,"createdAt":"2023-11-26T21:52:04.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/72007820?v=4","public":true,"private":false,"isOrgOwned":false},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1704998174.0","canEdit":false,"refType":"branch","currentOid":"f3d9b06da0d3a428571b9fdf99f0835eeab74684"},"path":".github/workflows/build.yaml","currentUser":null,"blob":{"rawLines":["# This workflow will build an Arch Linux ISO file with the commit on it","name: build parchiso per release","on:","  release:","    types:","      - created","","env:","  api_key: ${{ secrets.GITHUB_TOKEN }}","  name: ${{ github.event.repository.name }}","  release_name: ${{ github.ref_name }}","  GH_TOKEN: ${{ github.token }}","jobs:","  build:","    permissions:","      contents: write","    runs-on: ubuntu-latest","    container:","      image: archlinux:latest","      options: --privileged","    steps:","      - uses: actions/checkout@v3","      - name: Install Packages via Pacman","        run: pacman -Sy; pacman --noconfirm -S git archiso python python-pygithub github-cli reflector p7zip  ","      - name: Change Arch docker mirror","        run: reflector -c \"US\" -f 12 -l 10 -n 12 --save /etc/pacman.d/mirrorlist","      - name: Build image","        run: mkarchiso -v iso/","      - name: Upload iso to the release","        run: |","          cd ./out","          mkdir iso_parts","          # split -d -b 2000M \"$(ls *.iso)\" iso_parts/\"$(ls *.iso)\"_part","          #zip -s 2000m iso_parts/\"$(ls *.iso)\".zip \"$(ls *.iso)\"","          7z -v1000m a iso_parts/\"$(ls *.iso)\".zip \"$(ls *.iso)\"","          md5sum iso_parts/* > iso_parts/md5sums.txt","          gh release upload ${{ github.event.release.tag_name }} ./iso_parts/* -R ${{ github.repository }}"],"stylingDirectives":[[{"start":0,"end":71,"cssClass":"pl-c"},{"start":0,"end":1,"cssClass":"pl-c"}],[{"start":0,"end":4,"cssClass":"pl-ent"},{"start":6,"end":32,"cssClass":"pl-s"}],[{"start":0,"end":2,"cssClass":"pl-ent"}],[{"start":2,"end":9,"cssClass":"pl-ent"}],[{"start":4,"end":9,"cssClass":"pl-ent"}],[{"start":8,"end":15,"cssClass":"pl-s"}],[],[{"start":0,"end":3,"cssClass":"pl-ent"}],[{"start":2,"end":9,"cssClass":"pl-ent"},{"start":11,"end":38,"cssClass":"pl-s"}],[{"start":2,"end":6,"cssClass":"pl-ent"},{"start":8,"end":43,"cssClass":"pl-s"}],[{"start":2,"end":14,"cssClass":"pl-ent"},{"start":16,"end":38,"cssClass":"pl-s"}],[{"start":2,"end":10,"cssClass":"pl-ent"},{"start":12,"end":31,"cssClass":"pl-s"}],[{"start":0,"end":4,"cssClass":"pl-ent"}],[{"start":2,"end":7,"cssClass":"pl-ent"}],[{"start":4,"end":15,"cssClass":"pl-ent"}],[{"start":6,"end":14,"cssClass":"pl-ent"},{"start":16,"end":21,"cssClass":"pl-s"}],[{"start":4,"end":11,"cssClass":"pl-ent"},{"start":13,"end":26,"cssClass":"pl-s"}],[{"start":4,"end":13,"cssClass":"pl-ent"}],[{"start":6,"end":11,"cssClass":"pl-ent"},{"start":13,"end":29,"cssClass":"pl-s"}],[{"start":6,"end":13,"cssClass":"pl-ent"},{"start":15,"end":27,"cssClass":"pl-s"}],[{"start":4,"end":9,"cssClass":"pl-ent"}],[{"start":8,"end":12,"cssClass":"pl-ent"},{"start":14,"end":33,"cssClass":"pl-s"}],[{"start":8,"end":12,"cssClass":"pl-ent"},{"start":14,"end":41,"cssClass":"pl-s"}],[{"start":8,"end":11,"cssClass":"pl-ent"},{"start":13,"end":110,"cssClass":"pl-s"}],[{"start":8,"end":12,"cssClass":"pl-ent"},{"start":14,"end":39,"cssClass":"pl-s"}],[{"start":8,"end":11,"cssClass":"pl-ent"},{"start":13,"end":80,"cssClass":"pl-s"}],[{"start":8,"end":12,"cssClass":"pl-ent"},{"start":14,"end":25,"cssClass":"pl-s"}],[{"start":8,"end":11,"cssClass":"pl-ent"},{"start":13,"end":30,"cssClass":"pl-s"}],[{"start":8,"end":12,"cssClass":"pl-ent"},{"start":14,"end":39,"cssClass":"pl-s"}],[{"start":8,"end":11,"cssClass":"pl-ent"},{"start":13,"end":14,"cssClass":"pl-s"}],[{"start":0,"end":18,"cssClass":"pl-s"}],[{"start":0,"end":25,"cssClass":"pl-s"}],[{"start":0,"end":72,"cssClass":"pl-s"},{"start":10,"end":72,"cssClass":"pl-c"},{"start":10,"end":11,"cssClass":"pl-c"}],[{"start":0,"end":65,"cssClass":"pl-s"},{"start":10,"end":65,"cssClass":"pl-c"},{"start":10,"end":11,"cssClass":"pl-c"}],[{"start":0,"end":64,"cssClass":"pl-s"}],[{"start":0,"end":52,"cssClass":"pl-s"}],[{"start":0,"end":106,"cssClass":"pl-s"}]],"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/behdanisohrab/parch-iso-plasma/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/behdanisohrab/parch-iso-plasma/security/dependabot","repoSecurityAndAnalysisPath":"/behdanisohrab/parch-iso-plasma/settings/security_analysis","repoOwnerIsOrg":false,"currentUserCanAdminRepo":false},"displayName":"build.yaml","displayUrl":"https://github.com/behdanisohrab/parch-iso-plasma/blob/main/.github/workflows/build.yaml?raw=true","headerInfo":{"blobSize":"1.27 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"2423a17","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Fbehdanisohrab%2Fparch-iso-plasma%2Fblob%2Fmain%2F.github%2Fworkflows%2Fbuild.yaml","isCSV":false,"isRichtext":false,"toc":null,"lineInfo":{"truncatedLoc":"37","truncatedSloc":"36"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"YAML","languageID":407,"large":false,"loggedIn":false,"newDiscussionPath":"/behdanisohrab/parch-iso-plasma/discussions/new","newIssuePath":"/behdanisohrab/parch-iso-plasma/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/behdanisohrab/parch-iso-plasma/blob/main/.github/workflows/build.yaml","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/behdanisohrab/parch-iso-plasma/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"rawBlobUrl":"https://github.com/behdanisohrab/parch-iso-plasma/raw/main/.github/workflows/build.yaml","renderImageOrRaw":false,"richText":null,"renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"behdanisohrab","repoName":"parch-iso-plasma","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":"/behdanisohrab/parch-iso-plasma/actions/workflows/build.yaml","symbols":{"timed_out":false,"not_analyzed":true,"symbols":[]}},"copilotInfo":null,"copilotAccessAllowed":false,"csrf_tokens":{"/behdanisohrab/parch-iso-plasma/branches":{"post":"2wjYRtLWxLLi1QkT9fxCwy3XCqY33qcOep2lpvgcV3lvmaV95KWLdW01Vp-ksQWeM1nnXFx3xvOOvwXeXp4Dvg"},"/repos/preferences":{"post":"P1_Ys6s54kTLG9OEhKCzVtL3KtUU5Rracyc9Gl5W0qIf8KS2trG6eZTmj0D5wD6kaO9K8WjZo3j1UE5feQJJDA"}}},"title":"parch-iso-plasma/.github/workflows/build.yaml at main Â· behdanisohrab/parch-iso-plasma"}